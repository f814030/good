const _0x84d8dc=_0x315d;(function(_0x527ae8,_0x55bb7d){const _0x46470e=_0x315d,_0x173152=_0x527ae8();while(!![]){try{const _0x5d5a2d=-parseInt(_0x46470e(0x21b))/0x1*(-parseInt(_0x46470e(0x20d))/0x2)+-parseInt(_0x46470e(0x22c))/0x3*(-parseInt(_0x46470e(0x228))/0x4)+parseInt(_0x46470e(0x1d3))/0x5*(parseInt(_0x46470e(0x1bb))/0x6)+parseInt(_0x46470e(0x205))/0x7+parseInt(_0x46470e(0x1ec))/0x8*(-parseInt(_0x46470e(0x1f7))/0x9)+-parseInt(_0x46470e(0x1bf))/0xa+-parseInt(_0x46470e(0x1ee))/0xb*(parseInt(_0x46470e(0x1c0))/0xc);if(_0x5d5a2d===_0x55bb7d)break;else _0x173152['push'](_0x173152['shift']());}catch(_0x358b19){_0x173152['push'](_0x173152['shift']());}}}(_0x487f,0xb2a9a),document['addEventListener'](_0x84d8dc(0x204),_0x29b5ac=>_0x29b5ac[_0x84d8dc(0x184)]()),document[_0x84d8dc(0x194)](_0x84d8dc(0x221),function(_0x20d95b){const _0x43a866=_0x84d8dc;(_0x20d95b[_0x43a866(0x220)]===_0x43a866(0x1bd)||_0x20d95b[_0x43a866(0x193)]&&_0x20d95b['shiftKey']&&_0x20d95b[_0x43a866(0x220)]==='I'||_0x20d95b[_0x43a866(0x193)]&&_0x20d95b[_0x43a866(0x220)]==='u')&&_0x20d95b[_0x43a866(0x184)]();}),window['dataLayer']=window[_0x84d8dc(0x224)]||[]);function gtag(){const _0x179bff=_0x84d8dc;dataLayer[_0x179bff(0x1da)](arguments);}gtag('js',new Date()),gtag(_0x84d8dc(0x212),_0x84d8dc(0x192));var map=L[_0x84d8dc(0x1ba)](_0x84d8dc(0x1ba))['setView']([25.0403,121.4358],0x10);L[_0x84d8dc(0x196)](_0x84d8dc(0x201),{'maxZoom':0x14,'attribution':'&copy;\x20OpenStreetMap\x20contributors'})[_0x84d8dc(0x19a)](map);function getColor(_0x5e5d1f){const _0x271442=_0x84d8dc;if(_0x5e5d1f[_0x271442(0x21e)]&&_0x5e5d1f['properties']['color'])return _0x5e5d1f[_0x271442(0x21e)][_0x271442(0x1a0)];return _0x271442(0x1ef);}let polygonsLayer,convenienceLayer,restaurantLayer,layerControl,householdLayer;const POI_MIN_ZOOM=0x12;window[_0x84d8dc(0x19e)]=[],window[_0x84d8dc(0x18d)]=[];let convenienceOverlayEnabled=!![];function setConvenienceIconsVisible(_0xd97fb6){const _0x5b7880=_0x84d8dc;if(!convenienceLayer)return;convenienceLayer[_0x5b7880(0x1e2)](_0xa13997=>{const _0x44aff0=_0x5b7880,_0x570e7c=_0xa13997['getElement']&&_0xa13997[_0x44aff0(0x18a)]();if(_0x570e7c)_0x570e7c[_0x44aff0(0x223)]['display']=_0xd97fb6?'':_0x44aff0(0x1e6);});}function updateConvenienceIconsVisibility(){if(!convenienceLayer)return;if(!convenienceOverlayEnabled)return;const _0x476b76=map['getZoom']()>=POI_MIN_ZOOM;setConvenienceIconsVisible(_0x476b76);}let restaurantOverlayEnabled=!![];function setRestaurantIconsVisible(_0x4cf5d4){const _0x11aa53=_0x84d8dc;if(!restaurantLayer)return;restaurantLayer[_0x11aa53(0x1e2)](_0x1238a5=>{const _0x50a8c5=_0x11aa53,_0x2bba77=_0x1238a5[_0x50a8c5(0x18a)]&&_0x1238a5[_0x50a8c5(0x18a)]();if(_0x2bba77)_0x2bba77['style'][_0x50a8c5(0x227)]=_0x4cf5d4?'':'none';});}function updateRestaurantIconsVisibility(){const _0x5d267e=_0x84d8dc;if(!restaurantLayer)return;if(!restaurantOverlayEnabled)return;const _0x3d74cb=map[_0x5d267e(0x1c9)]()>=POI_MIN_ZOOM;setRestaurantIconsVisible(_0x3d74cb);}let householdOverlayEnabled=!![];function setHouseholdIconsVisible(_0x24bd09){const _0x3f5c0d=_0x84d8dc;if(!householdLayer)return;householdLayer[_0x3f5c0d(0x1e2)](_0x41a3b7=>{const _0xf2e8bf=_0x3f5c0d,_0x1e3ce5=_0x41a3b7[_0xf2e8bf(0x18a)]&&_0x41a3b7[_0xf2e8bf(0x18a)]();if(_0x1e3ce5)_0x1e3ce5[_0xf2e8bf(0x223)]['display']=_0x24bd09?'':'none';});}function updateHouseholdIconsVisibility(){if(!householdLayer)return;if(!householdOverlayEnabled)return;const _0x3b3ece=map['getZoom']()>=POI_MIN_ZOOM;setHouseholdIconsVisible(_0x3b3ece);}function normalizeBrand(_0x3ca27c){const _0x13f776=_0x84d8dc;return(_0x3ca27c||'')['toString']()['trim']()['toLowerCase']()[_0x13f776(0x20c)](/\s+/g,'')[_0x13f776(0x20c)](/[._-]/g,'');}const BRAND_ALIASES={'7eleven':[_0x84d8dc(0x1fa),_0x84d8dc(0x1ae),'7eleven','統一超商',_0x84d8dc(0x1ed)],'familymart':[_0x84d8dc(0x20b),'全家',_0x84d8dc(0x188)],'hilife':['hi-life',_0x84d8dc(0x197),_0x84d8dc(0x1b8)],'okmart':['ok',_0x84d8dc(0x1c2),'ok超商'],'layaburger':[_0x84d8dc(0x211),'拉亞',_0x84d8dc(0x1c3)],'mwd':['mwd',_0x84d8dc(0x18c),'麥味登早餐'],'watsons':[_0x84d8dc(0x1dd),_0x84d8dc(0x222),_0x84d8dc(0x1a2),_0x84d8dc(0x1b1)],'cosmed':[_0x84d8dc(0x1f8),_0x84d8dc(0x1a3),_0x84d8dc(0x1b6)],'greattree':[_0x84d8dc(0x1dc),'大樹',_0x84d8dc(0x186),'大樹連鎖藥局'],'dingding':['丁丁',_0x84d8dc(0x219)]},KNOWN_BRANDS=['7eleven',_0x84d8dc(0x20b),_0x84d8dc(0x197),'okmart',_0x84d8dc(0x1dd),_0x84d8dc(0x1f8),'greattree',_0x84d8dc(0x229)];function brandKeyFrom(_0xc08843){const _0x497620=_0x84d8dc,_0x528222=normalizeBrand(_0xc08843);if(KNOWN_BRANDS[_0x497620(0x20a)](_0x528222))return _0x528222;for(const _0x2cc0a9 in BRAND_ALIASES){if(BRAND_ALIASES[_0x2cc0a9]['some'](_0x39568e=>normalizeBrand(_0x39568e)===_0x528222))return _0x2cc0a9;}return null;}const BRAND_ICON_URL={'7eleven':_0x84d8dc(0x1e7),'familymart':_0x84d8dc(0x1e0),'hilife':_0x84d8dc(0x199),'okmart':_0x84d8dc(0x1d8),'layaburger':_0x84d8dc(0x1c1),'mwd':_0x84d8dc(0x1ad),'watsons':'./img/brands/watsons.png','cosmed':_0x84d8dc(0x1ac),'greattree':_0x84d8dc(0x1c7),'dingding':_0x84d8dc(0x185)};function _0x315d(_0x1192b6,_0x5b9686){const _0x487fce=_0x487f();return _0x315d=function(_0x315d4d,_0x5d1871){_0x315d4d=_0x315d4d-0x180;let _0x1f8330=_0x487fce[_0x315d4d];return _0x1f8330;},_0x315d(_0x1192b6,_0x5b9686);}function makeBrandDivIcon(_0x33cfd3){const _0x34dd3f=_0x84d8dc;return L[_0x34dd3f(0x1be)]({'html':_0x34dd3f(0x1f0)+_0x33cfd3+'\x22\x20width=\x2228\x22\x20height=\x2228\x22\x20alt=\x22\x22>','className':_0x34dd3f(0x21a),'iconSize':[0x1c,0x1c],'iconAnchor':[0xe,0x1c],'popupAnchor':[0x0,-0x18]});}const FALLBACK_ICON=L[_0x84d8dc(0x1be)]({'html':_0x84d8dc(0x1f4),'className':'brand-icon','iconSize':[0x18,0x18],'iconAnchor':[0xc,0xc],'popupAnchor':[0x0,-0x12]}),RESTAURANT_FALLBACK_URL=_0x84d8dc(0x1a4);function _0x487f(){const _0x19576e=['./img/brands/dingding.png','大樹藥局','overlayadd','全家便利商店','#43a047','getElement','layers','麥味登','_featureLayers','./data/map.geojson','</b>','🚶‍♀','map.geojson\x20載入失敗:','G-LVXHSZW7HT','ctrlKey','addEventListener','機捷貴和站','tileLayer','hilife','error','./img/brands/hilife.png','addTo','./data/restaurant.geojson','feature','民生服務','_highlightedLayers','#ffe082','color','bindPopup','watson’s','康是美','./img/brands/restaurant.png','#FFFF00','load','geoJSON','#FF00EA','json','latLngBounds','coordinates','./img/brands/cosmed.png','./img/brands/mwd.png','7_11','🏗️','querySelectorAll','watson\x27s','no-store','indexOf','#B39DDB','_bufferCircleLabel300','cosmed康是美','click','萊爾富','removeLayer','map','17502mwaGNx','test','F12','divIcon','1189550pedFFE','173268XZKJLt','./img/brands/layaburger.png','okmart','拉亞漢堡','circle-label','#b9f6ca','clearHighlight','./img/brands/greattree.png','control','getZoom','setStyle','getElementById','input','brand','餐廳/飲食','便利商店','target','社宅預定地','trim','210sATVRI','phone','geometry','panTo','weight','./img/brands/okmart.png','managerSearch','push','_bufferCircleClearBtn','greattree','watsons','#5E35B1','circle','./img/brands/familymart.png','<br>類型：','eachLayer','update','變電所用地','\x22\x20style=\x22max-width:150px;\x20margin-top:5px;\x22>','none','./img/brands/7eleven.png','MultiPolygon','<b>','_bufferCircleLabel500','興建中','72NfVnjD','seven','77hkDRqo','#90aaad','<img\x20src=\x22','#868686','#3c00ea','popup','<span\x20style=\x22font-size:22px;line-height:1\x22>🏪</span>','toString','#ffb300','1110447PSiutc','cosmed','address','7-eleven','<div\x20style=\x22font-size:14px;\x22>','lat','<br>電話：','type','zoomend','機捷泰山站','https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png','<br>地址：','<br>','contextmenu','3551856xSexpa','Polygon','household-icon','<div\x20style=\x22color:#ff6f00;font-weight:bold;font-size:14px;background:rgba(255,255,255,0.85);border-radius:8px;padding:1px\x208px;border:1px\x20solid\x20#ffb300;display:inline-block;text-align:center;\x22>500m</div>','then','includes','familymart','replace','6212QEyhUm','<br>品牌：','./data/convenience.geojson','toLowerCase','laya','config','管理人','fillColor','value','<span\x20style=\x22font-size:20px;line-height:1.1\x22>','lng','layer','丁丁藥局','brand-icon','283ifqwTW','教育局','🛠️','properties','</span>','key','keydown','屈臣氏','style','dataLayer','</div>','tel','display','644gVVvAM','dingding','行人便道','overlayremove','10311bfIjKN','marker','_bufferCircle500','household.geojson\x20載入失敗：','name','convenience.geojson\x20載入失敗：','🧑‍🏫','forEach','getCenter','<div\x20style=\x22color:#388e3c;font-weight:bold;font-size:14px;background:rgba(255,255,255,0.85);border-radius:8px;padding:1px\x208px;border:1px\x20solid\x20#43a047;display:inline-block;text-align:center;\x22>300m</div>','_bufferCircle300','remove','catch','preventDefault'];_0x487f=function(){return _0x19576e;};return _0x487f();}function tryAddLayerControl(){const _0x3128b6=_0x84d8dc;layerControl&&(layerControl[_0x3128b6(0x182)](),layerControl=null);const _0x156f0e={};if(convenienceLayer)_0x156f0e[_0x3128b6(0x1cf)]=convenienceLayer;if(restaurantLayer)_0x156f0e[_0x3128b6(0x1ce)]=restaurantLayer;if(householdLayer)_0x156f0e[_0x3128b6(0x19d)]=householdLayer;Object['keys'](_0x156f0e)['length']&&(layerControl=L[_0x3128b6(0x1c8)][_0x3128b6(0x18b)](null,_0x156f0e,{'collapsed':![]})[_0x3128b6(0x19a)](map));}fetch(_0x84d8dc(0x18e),{'cache':_0x84d8dc(0x1b2)})['then'](_0x10912d=>_0x10912d[_0x84d8dc(0x1a9)]())[_0x84d8dc(0x209)](_0x2e6955=>{const _0x1cfc1e=_0x84d8dc;polygonsLayer=L[_0x1cfc1e(0x1a7)](_0x2e6955,{'style':function(_0x58e893){const _0x49128b=_0x1cfc1e;let _0x1776ed={'color':getColor(_0x58e893),'weight':0x1,'fillOpacity':0.6,'fillColor':getColor(_0x58e893)};return _0x58e893[_0x49128b(0x21e)]&&_0x58e893[_0x49128b(0x21e)][_0x49128b(0x213)]===_0x49128b(0x1d1)&&(_0x1776ed[_0x49128b(0x214)]=_0x49128b(0x1b4),_0x1776ed[_0x49128b(0x1a0)]=_0x49128b(0x1de)),_0x58e893['properties']&&_0x58e893[_0x49128b(0x21e)]['用途']===_0x49128b(0x200)&&(_0x1776ed[_0x49128b(0x214)]=_0x49128b(0x1f1),_0x1776ed[_0x49128b(0x1a0)]=_0x49128b(0x1f2),_0x1776ed[_0x49128b(0x1d7)]=0x4),_0x58e893[_0x49128b(0x21e)]&&_0x58e893['properties']['用途']==='輔大捷運站4號出口'&&(_0x1776ed['fillColor']=_0x49128b(0x1f1),_0x1776ed[_0x49128b(0x1a0)]='#3c00ea',_0x1776ed['weight']=0x4),_0x58e893[_0x49128b(0x21e)]&&_0x58e893[_0x49128b(0x21e)]['用途']===_0x49128b(0x195)&&(_0x1776ed[_0x49128b(0x214)]=_0x49128b(0x1f1),_0x1776ed[_0x49128b(0x1a0)]=_0x49128b(0x1f2),_0x1776ed[_0x49128b(0x1d7)]=0x4),_0x1776ed;},'onEachFeature':function(_0x101b9f,_0x257b11){const _0x198e41=_0x1cfc1e;_0x257b11['on'](_0x198e41(0x1b7),function(){const _0x44f238=_0x198e41;if(window['_bufferCircle300'])map[_0x44f238(0x1b9)](window['_bufferCircle300']);if(window[_0x44f238(0x22e)])map['removeLayer'](window[_0x44f238(0x22e)]);if(window['_bufferCircleLabel300'])map['removeLayer'](window[_0x44f238(0x1b5)]);if(window[_0x44f238(0x1ea)])map[_0x44f238(0x1b9)](window[_0x44f238(0x1ea)]);if(window['_bufferCircleClearBtn'])map[_0x44f238(0x1b9)](window[_0x44f238(0x1db)]);var _0x5c586d=_0x101b9f['geometry']['coordinates'][0x0]['map'](function(_0x42fa1c){return[_0x42fa1c[0x1],_0x42fa1c[0x0]];}),_0x1ef9b5=L[_0x44f238(0x1aa)](_0x5c586d),_0x157bb0=_0x1ef9b5['getCenter']();window[_0x44f238(0x181)]=L[_0x44f238(0x1df)](_0x157bb0,{'color':_0x44f238(0x189),'fillColor':_0x44f238(0x1c5),'fillOpacity':0.3,'radius':0x12c,'interactive':![]})[_0x44f238(0x19a)](map),window[_0x44f238(0x22e)]=L[_0x44f238(0x1df)](_0x157bb0,{'color':_0x44f238(0x1f6),'fillColor':_0x44f238(0x19f),'fillOpacity':0.2,'radius':0x1f4,'interactive':![]})['addTo'](map);function _0x47adfa(_0x623e3,_0x202db1){const _0x52b18e=_0x44f238;return _0x623e3[_0x52b18e(0x1fc)]+_0x202db1/0x1b2d8;}window['_bufferCircleLabel300']=L['marker']([_0x47adfa(_0x157bb0,0x12c),_0x157bb0['lng']],{'icon':L[_0x44f238(0x1be)]({'className':_0x44f238(0x1c4),'html':_0x44f238(0x180),'iconSize':[0x30,0x16],'iconAnchor':[0x18,0xb]}),'interactive':![]})[_0x44f238(0x19a)](map),window['_bufferCircleLabel500']=L[_0x44f238(0x22d)]([_0x47adfa(_0x157bb0,0x1f4),_0x157bb0['lng']],{'icon':L[_0x44f238(0x1be)]({'className':'circle-label','html':_0x44f238(0x208),'iconSize':[0x30,0x16],'iconAnchor':[0x18,0xb]}),'interactive':![]})[_0x44f238(0x19a)](map);if(window[_0x44f238(0x1db)])map['removeLayer'](window[_0x44f238(0x1db)]);window[_0x44f238(0x1db)]=L['marker']([_0x47adfa(_0x157bb0,0x1f4)+0.00025,_0x157bb0[_0x44f238(0x217)]+0.0014],{'icon':L[_0x44f238(0x1be)]({'className':'circle-clear-btn','html':'<button\x20title=\x22只清除同心圓\x22\x20onclick=\x22window.removeCircles();\x22\x20style=\x22background:#fff;color:#ff6f00;font-weight:bold;border:1px\x20solid\x20#ffb300;border-radius:12px;padding:2px\x2012px;font-size:13px;cursor:pointer;box-shadow:0\x201px\x204px\x20rgba(0,0,0,0.08);\x22>清除</button>','iconSize':[0x34,0x1c],'iconAnchor':[0x1a,0xe]}),'interactive':!![]})[_0x44f238(0x19a)](map),window['removeCircles']=function(){const _0x28d3e3=_0x44f238;if(window[_0x28d3e3(0x181)])map[_0x28d3e3(0x1b9)](window[_0x28d3e3(0x181)]);if(window[_0x28d3e3(0x22e)])map[_0x28d3e3(0x1b9)](window['_bufferCircle500']);if(window[_0x28d3e3(0x1b5)])map[_0x28d3e3(0x1b9)](window['_bufferCircleLabel300']);if(window[_0x28d3e3(0x1ea)])map['removeLayer'](window[_0x28d3e3(0x1ea)]);if(window[_0x28d3e3(0x1db)])map[_0x28d3e3(0x1b9)](window[_0x28d3e3(0x1db)]);},map[_0x44f238(0x1d6)]([_0x157bb0[_0x44f238(0x1fc)]+0.0015,_0x157bb0[_0x44f238(0x217)]]);});var _0x388fc7=_0x101b9f[_0x198e41(0x21e)],_0x475553='';for(var _0x156ad7 in _0x388fc7){if(_0x156ad7!==_0x198e41(0x1a0)&&_0x156ad7!=='圖片')_0x475553+=_0x156ad7+':\x20'+_0x388fc7[_0x156ad7]+_0x198e41(0x203);}if(_0x388fc7['圖片'])_0x475553+=_0x198e41(0x1f0)+_0x388fc7['圖片']+_0x198e41(0x1e5);_0x257b11['bindPopup'](_0x475553),_0x257b11['on']('popupopen',function(_0x3ed9d8){const _0x3f5012=_0x198e41;var _0x1cbef2=_0x3ed9d8[_0x3f5012(0x1f3)],_0x439de0=_0x1cbef2[_0x3f5012(0x18a)]()[_0x3f5012(0x1b0)]('img');_0x439de0[_0x3f5012(0x233)](function(_0x3fb32c){const _0x3c0879=_0x3f5012;_0x3fb32c['addEventListener'](_0x3c0879(0x1a6),function(){const _0x427dbb=_0x3c0879;_0x1cbef2[_0x427dbb(0x1e3)]();});});});if(_0x101b9f[_0x198e41(0x1d5)]['type']===_0x198e41(0x206)){var _0x33105a=_0x101b9f[_0x198e41(0x1d5)][_0x198e41(0x1ab)][0x0][_0x198e41(0x1ba)](function(_0x228354){return[_0x228354[0x1],_0x228354[0x0]];}),_0x523715=L[_0x198e41(0x1aa)](_0x33105a),_0x8c03e3=_0x523715[_0x198e41(0x234)](),_0x5ec7f6='';if(_0x101b9f[_0x198e41(0x21e)]['用途']===_0x198e41(0x1d1))_0x5ec7f6='🏠';else{if(_0x101b9f[_0x198e41(0x21e)]['狀態']===_0x198e41(0x1eb))_0x5ec7f6=_0x198e41(0x1af);else{if(_0x101b9f[_0x198e41(0x21e)][_0x198e41(0x213)]===_0x198e41(0x21c))_0x5ec7f6='🏫';else{if(_0x101b9f[_0x198e41(0x21e)]['用途']===_0x198e41(0x1e4))_0x5ec7f6='⚡';else{if(_0x101b9f[_0x198e41(0x21e)][_0x198e41(0x213)]==='排除重劃')_0x5ec7f6='🚫';else _0x101b9f[_0x198e41(0x21e)]['用途']===_0x198e41(0x22a)&&(_0x5ec7f6=_0x198e41(0x190));}}}}if(_0x5ec7f6){var _0x2c5487=L[_0x198e41(0x1be)]({'html':_0x198e41(0x1fb)+_0x5ec7f6+_0x198e41(0x225),'className':'','iconSize':[0x18,0x18]});L[_0x198e41(0x22d)](_0x8c03e3,{'icon':_0x2c5487})['addTo'](map);}}_0x257b11['on'](_0x198e41(0x1b7),function(){const _0x59cf10=_0x198e41;_0x257b11[_0x59cf10(0x1ca)]({'weight':0x3,'color':_0x59cf10(0x1a5),'fillOpacity':0.7}),setTimeout(function(){const _0x276ae1=_0x59cf10;_0x257b11[_0x276ae1(0x1ca)]({'weight':0x1,'color':getColor(_0x101b9f),'fillOpacity':0.5});},0x3e8);});}})[_0x1cfc1e(0x19a)](map),collectFeatureLayers(),tryAddLayerControl();})[_0x84d8dc(0x183)](_0x3560e2=>console[_0x84d8dc(0x198)](_0x84d8dc(0x191),_0x3560e2)),fetch(_0x84d8dc(0x20f),{'cache':'no-store'})[_0x84d8dc(0x209)](_0x582610=>_0x582610[_0x84d8dc(0x1a9)]())[_0x84d8dc(0x209)](_0x41b209=>{const _0x27a55b=_0x84d8dc;convenienceLayer=L[_0x27a55b(0x1a7)](_0x41b209,{'pointToLayer':(_0x119b77,_0x4c6b79)=>{const _0x2b5b06=_0x27a55b,_0x3b52bd=_0x119b77[_0x2b5b06(0x21e)]||{},_0x329f7c=brandKeyFrom(_0x3b52bd['品牌']??_0x3b52bd[_0x2b5b06(0x1cd)]??''),_0x4da58a=_0x329f7c?BRAND_ICON_URL[_0x329f7c]:null,_0x364501=_0x4da58a?makeBrandDivIcon(_0x4da58a):FALLBACK_ICON;return L[_0x2b5b06(0x22d)](_0x4c6b79,{'icon':_0x364501});},'onEachFeature':(_0x28a678,_0xbf1412)=>{const _0x5af9a5=_0x27a55b,_0x2cf609=_0x28a678[_0x5af9a5(0x21e)]||{};_0xbf1412[_0x5af9a5(0x1a1)](_0x5af9a5(0x1e9)+(_0x2cf609['名稱']||_0x2cf609[_0x5af9a5(0x230)]||_0x5af9a5(0x1cf))+_0x5af9a5(0x18f)+(_0x2cf609['品牌']||_0x2cf609['brand']?_0x5af9a5(0x20e)+(_0x2cf609['品牌']||_0x2cf609['brand']):'')+(_0x2cf609['類型']||_0x2cf609['type']||_0x2cf609['類別']?'<br>類型：'+(_0x2cf609['類型']||_0x2cf609[_0x5af9a5(0x1fe)]||_0x2cf609['類別']):'')+(_0x2cf609['地址']||_0x2cf609[_0x5af9a5(0x1f9)]?'<br>地址：'+(_0x2cf609['地址']||_0x2cf609[_0x5af9a5(0x1f9)]):''));}})['addTo'](map),convenienceOverlayEnabled=!![],updateConvenienceIconsVisibility(),tryAddLayerControl();})[_0x84d8dc(0x183)](_0x83f26c=>console[_0x84d8dc(0x198)](_0x84d8dc(0x231),_0x83f26c)),fetch(_0x84d8dc(0x19b),{'cache':_0x84d8dc(0x1b2)})[_0x84d8dc(0x209)](_0x1c03fa=>_0x1c03fa[_0x84d8dc(0x1a9)]())[_0x84d8dc(0x209)](_0x464cff=>{const _0x4eb426=_0x84d8dc;restaurantLayer=L[_0x4eb426(0x1a7)](_0x464cff,{'pointToLayer':(_0x401017,_0xc520ea)=>{const _0x344a57=_0x4eb426,_0x3b73bf=_0x401017[_0x344a57(0x21e)]||{},_0x44426c=(_0x3b73bf['品牌']??_0x3b73bf[_0x344a57(0x1cd)]??_0x3b73bf['名稱']??_0x3b73bf[_0x344a57(0x230)]??'')['toString'](),_0x3d4290=brandKeyFrom(_0x44426c),_0x1068b2=_0x3d4290?BRAND_ICON_URL[_0x3d4290]:null,_0x288edb=_0x1068b2?makeBrandDivIcon(_0x1068b2):makeBrandDivIcon(RESTAURANT_FALLBACK_URL);return L[_0x344a57(0x22d)](_0xc520ea,{'icon':_0x288edb});},'onEachFeature':(_0x42b8f5,_0x59acc2)=>{const _0x36307f=_0x4eb426,_0x15151b=_0x42b8f5['properties']||{};_0x59acc2[_0x36307f(0x1a1)]('<b>'+(_0x15151b['名稱']||_0x15151b[_0x36307f(0x230)]||'餐飲店家')+_0x36307f(0x18f)+(_0x15151b['類型']||_0x15151b[_0x36307f(0x1fe)]||_0x15151b['類別']?_0x36307f(0x1e1)+(_0x15151b['類型']||_0x15151b[_0x36307f(0x1fe)]||_0x15151b['類別']):'')+(_0x15151b['地址']||_0x15151b[_0x36307f(0x1f9)]?_0x36307f(0x202)+(_0x15151b['地址']||_0x15151b['address']):'')+(_0x15151b['電話']||_0x15151b['tel']||_0x15151b['phone']?_0x36307f(0x1fd)+(_0x15151b['電話']||_0x15151b[_0x36307f(0x226)]||_0x15151b['phone']):''));}})[_0x4eb426(0x19a)](map),restaurantOverlayEnabled=!![],updateRestaurantIconsVisibility(),tryAddLayerControl();})[_0x84d8dc(0x183)](_0x5f0b21=>console[_0x84d8dc(0x198)]('restaurant.geojson\x20載入失敗：',_0x5f0b21)),fetch('./data/household.geojson',{'cache':_0x84d8dc(0x1b2)})[_0x84d8dc(0x209)](_0x4b3754=>_0x4b3754[_0x84d8dc(0x1a9)]())[_0x84d8dc(0x209)](_0x17eb9e=>{const _0x21430f=_0x84d8dc;householdLayer=L[_0x21430f(0x1a7)](_0x17eb9e,{'pointToLayer':(_0x443808,_0x1f00ae)=>{const _0x304cad=_0x21430f,_0x340324=_0x443808[_0x304cad(0x21e)]||{},_0x25ab8c=(_0x340324['品牌']??_0x340324[_0x304cad(0x1cd)]??_0x340324['名稱']??_0x340324[_0x304cad(0x230)]??'')[_0x304cad(0x1f5)](),_0x2e5f70=brandKeyFrom(_0x25ab8c),_0x43bb74=_0x2e5f70?BRAND_ICON_URL[_0x2e5f70]:null;if(_0x43bb74)return L['marker'](_0x1f00ae,{'icon':makeBrandDivIcon(_0x43bb74)});const _0x48cb6e=(_0x340324['類型']||_0x340324[_0x304cad(0x1fe)]||'')[_0x304cad(0x1f5)]()[_0x304cad(0x210)]();let _0x4d1383='🧰';if(/藥|藥局|藥妝|pharm/[_0x304cad(0x1bc)](_0x48cb6e))_0x4d1383='💊';else{if(/洗衣|laundry/[_0x304cad(0x1bc)](_0x48cb6e))_0x4d1383='🧺';else{if(/五金|hardware|工具/['test'](_0x48cb6e))_0x4d1383=_0x304cad(0x21d);else{if(/水果|水果行/['test'](_0x48cb6e))_0x4d1383='🍇';else{if(/麵包|麵包店/[_0x304cad(0x1bc)](_0x48cb6e))_0x4d1383='🥐';else{if(/幼兒園|托嬰中心/[_0x304cad(0x1bc)](_0x48cb6e))_0x4d1383=_0x304cad(0x232);else{if(/甜點店|糕點店/[_0x304cad(0x1bc)](_0x48cb6e))_0x4d1383='🍩';}}}}}}const _0xd7f926=L[_0x304cad(0x1be)]({'html':_0x304cad(0x216)+_0x4d1383+_0x304cad(0x21f),'className':_0x304cad(0x207),'iconSize':[0x14,0x14],'iconAnchor':[0xa,0x12],'popupAnchor':[0x0,-0x10]});return L[_0x304cad(0x22d)](_0x1f00ae,{'icon':_0xd7f926});},'onEachFeature':(_0x22f3d6,_0x189b04)=>{const _0x2a1667=_0x21430f,_0x606e8b=_0x22f3d6[_0x2a1667(0x21e)]||{};_0x189b04[_0x2a1667(0x1a1)](_0x2a1667(0x1e9)+(_0x606e8b['名稱']||_0x606e8b[_0x2a1667(0x230)]||_0x2a1667(0x19d))+'</b>'+(_0x606e8b['類型']||_0x606e8b[_0x2a1667(0x1fe)]?_0x2a1667(0x1e1)+(_0x606e8b['類型']||_0x606e8b[_0x2a1667(0x1fe)]):'')+(_0x606e8b['地址']||_0x606e8b[_0x2a1667(0x1f9)]?'<br>地址：'+(_0x606e8b['地址']||_0x606e8b[_0x2a1667(0x1f9)]):'')+(_0x606e8b['電話']||_0x606e8b[_0x2a1667(0x226)]||_0x606e8b[_0x2a1667(0x1d4)]?_0x2a1667(0x1fd)+(_0x606e8b['電話']||_0x606e8b[_0x2a1667(0x226)]||_0x606e8b[_0x2a1667(0x1d4)]):''));}})[_0x21430f(0x19a)](map),householdOverlayEnabled=!![],updateHouseholdIconsVisibility(),tryAddLayerControl();})[_0x84d8dc(0x183)](_0x2aa75d=>console['error'](_0x84d8dc(0x22f),_0x2aa75d)),map['on'](_0x84d8dc(0x1ff),()=>{updateConvenienceIconsVisibility(),updateRestaurantIconsVisibility(),updateHouseholdIconsVisibility();}),map['on'](_0x84d8dc(0x187),_0x3a8d74=>{const _0x5ef210=_0x84d8dc;if(_0x3a8d74[_0x5ef210(0x218)]===convenienceLayer)convenienceOverlayEnabled=!![],updateConvenienceIconsVisibility();else{if(_0x3a8d74[_0x5ef210(0x218)]===restaurantLayer)restaurantOverlayEnabled=!![],updateRestaurantIconsVisibility();else _0x3a8d74[_0x5ef210(0x218)]===householdLayer&&(householdOverlayEnabled=!![],updateHouseholdIconsVisibility());}}),map['on'](_0x84d8dc(0x22b),_0x271bba=>{const _0xd18531=_0x84d8dc;if(_0x271bba[_0xd18531(0x218)]===convenienceLayer)convenienceOverlayEnabled=![],setConvenienceIconsVisible(![]);else{if(_0x271bba['layer']===restaurantLayer)restaurantOverlayEnabled=![],setRestaurantIconsVisible(![]);else _0x271bba['layer']===householdLayer&&(householdOverlayEnabled=![],setHouseholdIconsVisible(![]));}});function stripMask(_0x1b5385){const _0x211a19=_0x84d8dc;return(_0x1b5385||'')[_0x211a19(0x20c)](/[○＊●_]/g,'');}function collectFeatureLayers(){const _0x191572=_0x84d8dc;window[_0x191572(0x18d)]=[],map['eachLayer'](function(_0x121b78){const _0x802f3=_0x191572;_0x121b78['feature']&&_0x121b78[_0x802f3(0x19c)]['properties']&&_0x121b78['setStyle']&&(_0x121b78[_0x802f3(0x19c)][_0x802f3(0x1d5)][_0x802f3(0x1fe)]==='Polygon'||_0x121b78['feature'][_0x802f3(0x1d5)][_0x802f3(0x1fe)]===_0x802f3(0x1e8))&&window[_0x802f3(0x18d)][_0x802f3(0x1da)]({'feature':_0x121b78[_0x802f3(0x19c)],'layer':_0x121b78});});}setTimeout(collectFeatureLayers,0x3e8);function highlightSearchedPolygons(_0x56e257){const _0x5be951=_0x84d8dc;window[_0x5be951(0x19e)][_0x5be951(0x233)](_0x66f1fa=>{const _0x478446=_0x5be951;_0x66f1fa[_0x478446(0x218)]['setStyle']({'weight':0x1,'color':getColor(_0x66f1fa[_0x478446(0x19c)]),'fillOpacity':0.6,'opacity':0x1});}),window[_0x5be951(0x19e)]=[];if(!_0x56e257)return;window[_0x5be951(0x18d)][_0x5be951(0x233)](function(_0xbc6d82){const _0x53f45e=_0x5be951,_0x3c44de=_0xbc6d82[_0x53f45e(0x19c)][_0x53f45e(0x21e)]['管理人']||'';stripMask(_0x3c44de)[_0x53f45e(0x1b3)](stripMask(_0x56e257))!==-0x1?(_0xbc6d82['layer'][_0x53f45e(0x1ca)]({'color':_0x53f45e(0x1a8),'weight':0x5,'fillOpacity':0.85,'opacity':0x1}),window[_0x53f45e(0x19e)]['push'](_0xbc6d82)):_0xbc6d82[_0x53f45e(0x218)][_0x53f45e(0x1ca)]({'weight':0x1,'color':getColor(_0xbc6d82[_0x53f45e(0x19c)]),'fillOpacity':0.6,'opacity':0x1});});}document['getElementById'](_0x84d8dc(0x1d9))[_0x84d8dc(0x194)](_0x84d8dc(0x1cc),function(_0x508277){const _0x1270aa=_0x84d8dc;highlightSearchedPolygons(_0x508277[_0x1270aa(0x1d0)][_0x1270aa(0x215)][_0x1270aa(0x1d2)]());}),document[_0x84d8dc(0x1cb)](_0x84d8dc(0x1c6))[_0x84d8dc(0x194)](_0x84d8dc(0x1b7),function(){const _0x1fe2cf=_0x84d8dc;window[_0x1fe2cf(0x19e)][_0x1fe2cf(0x233)](_0x4009b7=>{const _0x4cf62f=_0x1fe2cf;_0x4009b7[_0x4cf62f(0x218)][_0x4cf62f(0x1ca)]({'weight':0x1,'color':getColor(_0x4009b7['feature']),'fillOpacity':0.6,'opacity':0x1});}),window[_0x1fe2cf(0x19e)]=[],document[_0x1fe2cf(0x1cb)](_0x1fe2cf(0x1d9))[_0x1fe2cf(0x215)]='';});